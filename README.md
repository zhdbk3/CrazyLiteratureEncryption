# 发疯文学加密器

以发疯文学为载体，加密传输信息。

## 特性

### :star: 隐蔽性

如果你看到一串16进制（或是其他种类的乱码），你会立即知道这是一段密文：

```text
12ad1a915954b8f4f7c471cdcf635a6fdbfc19ee3b71bedf0720b53e909968f60cc655984a0d7c3b8da7c7c134212c940ce73b00a1aa2976d462e7506ff62dd56e516e3d4b47611e9fea187d854143a2
```

但如果是这样呢：

```text
不向轻安按着宏兴坐在，该所创名牌排污口破戒该季讽的墓志文
```

加密后，虽然密文不一定有有效的语义，但是是符合中文语法的。

你一定在玩抽象，玩发疯文学，对吧？

> 破解的前题是他知道这有个东西能破解。
> <p align="right">——沃茨基·硕德</p>

### :warning: 不安全性

这是一种古典密码，明文和密文的词是一一对应的，可以被统计学破解。

但是在它的应用场景内（会有哪些呢？），这点安全性应该足够了。

以下部分不会被加密：

- 一些词库里单独成文件的词（如“了”“的”）；
- 词库里没有的词（如“猫娘”）；
- 标点符号。

### :zzz: 不稳定性

加密有可能会失败：密文在被解密后得到的并不是原文，这是因为对句子结构的划分前后不一致。

| “ | 发疯 | ” | 背后 | 是  | 对  | 现实生活 | 的 | 消极  |     | 抵抗 |
|:-:|:--:|:-:|:--:|:--:|:--:|:----:|:-:|:---:|:---:|:--:|
| “ | 乱设 | ” | 脚下 | 列调 | 根由 |  高参  | 的 |  内  |  人  | 有奖 |
| “ | 发疯 | ” | 背后 | 是  | 对  | 现实生活 | 的 | 八宝饭 | 参考值 | 抵抗 |

消极 --拆分--> 消极 --加密映射--> 内人 --拆分--> 内/人 --解密映射--> 八宝饭/参考值

若出现加密失败的情况，请尝试指定较小的区块长度或更换种子。

## 使用方法

你和对方应约定好完全相同的种子和区块长度，**最好多准备几组**。

运行程序，按提示操作即可：

```
==================== 发疯文学加密器 ====================
请输入种子（字符串）
>>> demo
整数种子：19264495506019627055853755422113957416985321801382528423488988878937703209706
请输入区块长度（不输入为不分块）
>>> 

初始化加密器...
映射了 349045 个词
完成！

加密(e) / 解密(d) / 退出(q)
>>> e
请输入要加密的文本
>>> 灌注MC着火的冰块谢谢喵~
Building prefix dict from the default dictionary ...
Loading model from cache C:\Users\W10\AppData\Local\Temp\jieba.cache
Loading model cost 1.120 seconds.
Prefix dict has been built successfully.
聚散MC补上的送存单叶原基哈哈~

加密(e) / 解密(d) / 退出(q)
>>> d
请输入要解密的文本
>>> 聚散MC补上的送存单叶原基哈哈~
灌注MC着火的冰块谢谢喵~

加密(e) / 解密(d) / 退出(q)
>>> q
期待着与您的再次相见！

进程已结束，退出代码为 0
```

## 它是如何工作的？

### 1. 建立映射关系

在 `src/jieba/parts/` 下，每个词性的词都被单独放在一个文件里，并按词频从高到低排序。（来源于 `jieba` 的默认词库）

您输入的**种子**将被哈希成整数，用于随机打乱列表。

若指定了**区块长度**，则会在打乱前将列表分块，每区块单独打乱。这样可以让高频词映射到高频词，低频词映射到低频词，提高加密的成功率。

以下是映射表的一部分：

| 明文  |   密文   |
|:---:|:------:|
| ... |  ...   |
| 我们  |   该季   |
| 中出  |  暑雨祁寒  |
|  了  |   了    |
| 一个  | 余万平方公里 |
| 叛徒  |   夜视   |
| ... |  ...   |

每个词只会映射到相同词性的词上。

### 2. 拆分句子

我们中出了一个叛徒 --> 我们/中出/了/一个/叛徒

这个过程由库 `jieba` 完成。

### 3. 映射

根据上面生成的映射表，对句子的每个部分分别进行映射，然后再拼起来。如果是在解密，就反过来映射。

--> 该季暑雨祁寒了余万平方公里夜视

## 开发环境

- Python 3.11.8
- jieba 0.42.1
